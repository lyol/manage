layui.define(["larryms"],function(e){"use strict";var C=layui.$,y=layui.larryms,i=layui.hint(),m=layui.device(),k="forms",g=".larry-form",w="larry-this",r="larry-show",A="larry-hide",$="larry-disabled",a=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1(3|4|5|7|8)\d{9}$/,"请输入正确的手机号"],tel:[/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,"请输入正确的座机号码"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(\d|X|x)$)/,"请输入正确的身份证号"],uname:[/^[\u4E00-\u9FA5a-zA-Z][\u4E00-\u9FA5a-zA-Z0-9_]*$/,"只能为汉字和字母数字组合"],int:[/^[0-9]\d*$/,"正整数"],qq:[/^[1-9][0-9]{4,10}$/,"请输入正确的QQ号码"],number:function(e){if(!e||isNaN(e))return"只能填写数字"},min:function(e,r){if(e.length<r)return"输入不能小于长度"+r},max:function(e,r){if(e.length>r)return"输入长度不能大于长度"+r},between:function(e,r){var a=parseInt(r.split("-")[0]),t=parseInt(r.split("-")[1]);if(e.length<a||e.length>t){return"输入长度只能介于"+a+"和"+t+"之间"}},accepted:function(e){},alpha:[/^[a-zA-Z]+$/,"只能为纯字母"],alphaNum:[/^[a-zA-Z]+$/,"只能为字母或数字"],alphaDash:[/^[a-zA-Z_-]+$/,"只能为字母或数字_-"],chs:[/^[\u4e00-\u9fa5]+$/,"只能为汉字"],chsAlpha:[/^[A-Za-z\u4e00-\u9fa5]+$/,"只能为汉字和字母"],chsAlphaNum:[/^[A-Za-z0-9\u4e00-\u9fa5]+$/,"只能为汉字、字母、数字"],chsAlphaNumDash:[/^[A-Za-z0-9_\u4e00-\u9fa5]+$/,"只能为汉字、字母、数字、下划线"],xdigit:[/([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/,"不是正确的十六进制格式"],httpUrl:[/^(?=^.{3,255}$)(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*([\?&]\w+=\w*)*$/,"请输入正确的网址url"],domain:[/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,"请输入正确的域名"],ip:[/^([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$/,"请输入正确的ip地址"],disabled:[/[^~\x22]+/,"禁止输入~特殊符号"],macAddr:[/^[A-F0-9]{2}(-[A-F0-9]{2}){5}$/,"请输入正确的mac地址，默认'-'分割"],part:[/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/,"请输入正确的端口号"],longitude:[/^[\-\+]?(0?\d{1,2}|0?\d{1,2}\.\d{1,15}|1[0-7]?\d{1}|1[0-7]?\d{1}\.\d{1,15}|180|180\.0{1,15})$/,"请输入正确的经度"],latitude:[/^[\-\+]?([0-8]?\d{1}|[0-8]?\d{1}\.\d{1,15}|90|90\.0{1,15})$/,"请输入正确的纬度"],car:[/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领]{1}[a-hj-zA-HJ-Z]{1}[警京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼]{0,1}[a-hj-np-zA-HJ-NP-Z0-9]{4,5}[a-hj-np-zA-HJ-NP-Z0-9挂学警港澳]{1}$/,"请输入正确的车牌号码"],level:function(e,r){var a=this.pwdStrong(e);if(a<r){return"密码复杂度不够"}},pwd:[/((?=.*[a-z])(?=.*\d)|(?=[a-z])(?=.*[#@!~%^&*])|(?=.*\d)(?=.*[#@!~%^&*]))[a-z\d#@!~%^&*]{5,32}/i,"密码只能为6-32位的非纯数字、非纯字母、非纯特殊字符所组成"],isRepeat:function(e,r){if(e!==C("#"+r).val()){return"两次密码输入不一致"}},isCreditCode:function(e){var r=/^[0-9A-Z]+$/;if(e.length!=18||r.test(e)==false){return"社会统一信用代码格式不正确"}else{var a;var t;var i=0;var n=[1,3,9,27,19,26,16,17,20,29,25,13,8,24,10,30,28];var s="0123456789ABCDEFGHJKLMNPQRTUWXY";for(var l=0;l<e.length-1;l++){a=e.substring(l,l+1);t=s.indexOf(a);i=i+t*n[l]}var f=31-i%31;if(f==31){f=0}var o="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F,G,H,J,K,L,M,N,P,Q,R,T,U,W,X,Y";var u=o.split(",");f=u[f];var d=e.substring(17,18);if(f!=d){return"社会统一信用代码格式不正确"}return true}},isBankCard:function(e){e=e||String(this);if(""==e.trim()||undefined==e){return false}var r=e.substr(e.length-1,1);var a=e.substr(0,e.length-1);var t=new Array;for(var i=a.length-1;i>-1;i--){t.push(a.substr(i,1))}var n=new Array;var s=new Array;var l=new Array;for(var f=0;f<t.length;f++){if((f+1)%2==1){if(parseInt(t[f])*2<9)n.push(parseInt(t[f])*2);else s.push(parseInt(t[f])*2)}else l.push(t[f])}var o=new Array;var u=new Array;for(var d=0;d<s.length;d++){o.push(parseInt(s[d])%10);u.push(parseInt(s[d])/10)}var c=0;var p=0;var v=0;var h=0;var y=0;for(var m=0;m<n.length;m++){c=c+parseInt(n[m])}for(var g=0;g<l.length;g++){p=p+parseInt(l[g])}for(var b=0;b<o.length;b++){v=v+parseInt(o[b]);h=h+parseInt(u[b])}y=parseInt(c)+parseInt(p)+parseInt(v)+parseInt(h);var x=parseInt(y)%10==0?10:parseInt(y)%10;var C=10-x;if(r==C){return true}else{return"请输入正确的银行卡号"}},isIdCard:function(e){var r={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "};var a="";var t=true;if(!e||!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e)){a="身份证号格式错误";t=false}else if(!r[e.substr(0,2)]){a="地址编码错误";t=false}else{if(e.length==18){e=e.split("");var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];var n=[1,0,"X",9,8,7,6,5,4,3,2];var s=0;var l=0;var f=0;for(var o=0;o<17;o++){l=e[o];f=i[o];s+=l*f}var u=n[s%11];if(n[s%11]!=e[17]){a="校验位错误";t=false}}}if(!t){return a}},pwdStrong:function(e){var r=0;if(e.match(/[a-z]/g)){r++}if(e.match(/[A-Z]/g)){r++}if(e.match(/[0-9]/g)){r++}if(e.match(/(.[^a-z0-9A-Z])/g)){r++}if(r>4){r=4}if(r===0)return false;return r}},func:{}}};a.prototype.set=function(e){var r=this;C.extend(true,r.config,e);return r};a.prototype.verify=function(e){var r=this;C.extend(true,r.config.verify,e);return r};a.prototype.func=function(e){var r=this;C.extend(true,r.config.func,e);return r};a.prototype.on=function(e,r){return layui.onevent.call(this,k,e,r)};a.prototype.val=function(e,a){var r=this,t=C(g+'[lay-filter="'+e+'"]');t.each(function(e,r){var i=C(this);layui.each(a,function(e,r){var a=i.find('[name="'+e+'"]'),t;if(!a[0])return;t=a[0].type;if(t==="checkbox"){a[0].checked=r}else if(t==="radio"){a.each(function(){if(this.value===r){this.checked=true}})}else{a.val(r)}})});b.render(null,e)};a.prototype.render=function(e,r){var n=this,a=C(g+function(){return r?'[lay-filter="'+r+'"]':""}()),t={select:function(){var d="请选择",h="larry-form-select",y="larry-select-title",m="larry-select-none",g="",b,e=a.find("select"),x=function(e,r){if(!C(e.target).parent().hasClass(y)||r){C("."+h).removeClass(h+"ed "+h+"up");b&&g&&b.val(g)}b=null},c=function(t,e,r){var i=C(this),a=t.find("."+y),n=a.find("input"),l=t.find("dl"),s=l.children("dd"),f=this.selectedIndex,o;if(e)return;var u=function(){var e=t.offset().top+t.outerHeight()+5-z.scrollTop(),r=l.outerHeight();f=i[0].selectedIndex;t.addClass(h+"ed");s.removeClass(A);o=null;s.eq(f).addClass(w).siblings().removeClass(w);if(e+r>z.height()&&e>=r){t.addClass(h+"up")}c()},d=function(e){t.removeClass(h+"ed "+h+"up");n.blur();o=null;if(e)return;p(n.val(),function(e){var r=i[0].selectedIndex;if(e){g=C(i[0].options[r]).html();if(r===0&&g===n.attr("placeholder")){g=""}n.val(g||"")}})},c=function(){var e=l.children("dd."+w);if(!e[0])return;var r=e.position().top,a=l.height(),t=e.height();if(r>a){l.scrollTop(r+l.scrollTop()-a+t-5)}if(r<0){l.scrollTop(r+l.scrollTop()-5)}};a.on("click",function(e){t.hasClass(h+"ed")?d():(x(e,true),u());l.find("."+m).remove()});a.find(".larry-edge").on("click",function(){n.focus()});n.on("keyup",function(e){var r=e.keyCode;if(r===9){u()}}).on("keydown",function(n){var e=n.keyCode;if(e===9){d()}var s=function(t,i){var e,r;n.preventDefault();var a=function(){var e=l.children("dd."+w);if(l.children("dd."+A)[0]&&t==="next"){var r=l.children("dd:not(."+A+",."+$+")"),a=r.eq(0).index();if(a>=0&&a<e.index()&&!r.hasClass(w)){return r.eq(0).prev()[0]?r.eq(0).prev():l.children(":last")}}if(i&&i[0]){return i}if(o&&o[0]){return o}return e}();r=a[t]();e=a[t]("dd:not(."+A+")");if(!r[0])return o=null;o=a[t]();if((!e[0]||e.hasClass($))&&o[0]){return s(t,o)}e.addClass(w).siblings().removeClass(w);c()};if(e===38)s("prev");if(e===40)s("next");if(e===13){n.preventDefault();l.children("dd."+w).trigger("click")}});var p=function(t,e,i){var n=0;layui.each(s,function(){var e=C(this),r=e.text(),a=r.indexOf(t)===-1;if(t===""||i==="blur"?t!==r:a)n++;i==="keyup"&&e[a?"addClass":"removeClass"](A)});var r=n===s.length;return e(r),r};var v=function(e){var r=this.value,a=e.keyCode;if(a===9||a===13||a===37||a===38||a===39||a===40){return false}p(r,function(e){if(e){l.find("."+m)[0]||l.append('<p class="'+m+'">无匹配项</p>')}else{l.find("."+m).remove()}},"keyup");if(r===""){l.find("."+m).remove()}c()};if(r){n.on("keyup",v).on("blur",function(e){var r=i[0].selectedIndex;b=n;g=C(i[0].options[r]).html();if(r===0&&g===n.attr("placeholder")){g=""}setTimeout(function(){p(n.val(),function(e){g||n.val("")},"blur")},200)})}s.on("click",function(){var e=C(this),r=e.attr("lay-value");var a=i.attr("lay-filter");if(e.hasClass($))return false;if(e.hasClass("larry-select-tips")){n.val("")}else{n.val(e.text());e.addClass(w)}e.siblings().removeClass(w);i.val(r).removeClass("larry-form-danger");layui.event.call(this,k,"select("+a+")",{elem:i[0],value:r,othis:t});d(true);return false});t.find("dl>dt").on("click",function(e){return false});C(document).off("click",x).on("click",x)};e.each(function(e,r){var a=C(this),t=a.next("."+h),i=this.disabled,n=r.value,s=C(r.options[r.selectedIndex]),l=r.options[0];if(typeof a.attr("lay-ignore")==="string")return a.show();var f=typeof a.attr("lay-search")==="string",o=l?l.value?d:l.innerHTML||d:d;var u=C(['<div class="'+(f?"":"larry-unselect ")+h,(i?" larry-select-disabled":"")+'">','<div class="'+y+'">','<input type="text" placeholder="'+o+'" '+('value="'+(n?s.html():"")+'"')+(f?"":" readonly")+' class="larry-input'+(f?"":" larry-unselect")+(i?" "+$:"")+'">','<i class="larry-edge"></i></div>','<dl class="larry-anim larry-anim-upbit'+(a.find("optgroup")[0]?" larry-select-group":"")+'">',function(e){var a=[];layui.each(e,function(e,r){if(e===0&&!r.value){a.push('<dd lay-value="" class="larry-select-tips">'+(r.innerHTML||d)+"</dd>")}else if(r.tagName.toLowerCase()==="optgroup"){a.push("<dt>"+r.label+"</dt>")}else{a.push('<dd lay-value="'+r.value+'" class="'+(n===r.value?w:"")+(r.disabled?" "+$:"")+'">'+r.innerHTML+"</dd>")}});a.length===0&&a.push('<dd lay-value="" class="'+$+'">没有选项</dd>');return a.join("")}(a.find("*"))+"</dl>","</div>"].join(""));t[0]&&t.remove();a.after(u);c.call(this,u,i,f)})},checkbox:function(){var o={checkbox:["larry-form-checkbox","larry-form-checked","checkbox"],_switch:["larry-form-switch","larry-form-onswitch","switch"]},e=a.find("input[type=checkbox]"),u=function(a,t){var i=C(this);a.on("click",function(){var e=i.attr("lay-filter"),r=(i.attr("lay-text")||"").split("|");if(i[0].disabled)return;i[0].checked?(i[0].checked=false,a.removeClass(t[1]).find("em").text(r[1])):(i[0].checked=true,a.addClass(t[1]).find("em").text(r[0]));layui.event.call(i[0],k,t[2]+"("+e+")",{elem:i[0],value:i[0].value,othis:a})})};e.each(function(e,a){var r=C(this),t=r.attr("lay-skin"),i=(r.attr("lay-text")||"").split("|"),n=this.disabled;if(t==="switch")t="_"+t;var s=o[t]||o.checkbox;if(typeof r.attr("lay-ignore")==="string")return r.show();var l=r.next("."+s[0]),f=C(['<div class="larry-unselect '+s[0],a.checked?" "+s[1]:"",n?" larry-checkbox-disbaled "+$:"",'"',t?' lay-skin="'+t+'"':"",">",function(){var e=a.title.replace(/\s/g,""),r={checkbox:[e?"<span>"+a.title+"</span>":"",'<i class="larry-icon larry-icon-ok"></i>'].join(""),_switch:"<em>"+((a.checked?i[0]:i[1])||"")+"</em><i></i>"};return r[t]||r["checkbox"]}(),"</div>"].join(""));l[0]&&l.remove();r.after(f);u.call(this,f,s)})},radio:function(){var l="larry-form-radio",f=["larry-danxuanxuanzhong","larry-radio1"],e=a.find("input[type=radio]"),s=function(i){var n=C(this),s="larry-anim-scaleSpring";i.on("click",function(){var e=n[0].name,r=n.parents(g);var a=n.attr("lay-filter");var t=r.find("input[name="+e.replace(/(\.|#|\[|\])/g,"\\$1")+"]");if(n[0].disabled)return;layui.each(t,function(){var e=C(this).next("."+l);this.checked=false;e.removeClass(l+"ed");e.find(".larry-icon").removeClass(s).removeClass(f[0]).addClass(f[1])});n[0].checked=true;i.addClass(l+"ed");i.find(".larry-icon").addClass(s).removeClass(f[1]).addClass(f[0]);layui.event.call(n[0],k,"radio("+a+")",{elem:n[0],value:n[0].value,othis:i})})};e.each(function(e,r){var a=C(this),t=a.next("."+l),i=this.disabled;if(typeof a.attr("lay-ignore")==="string")return a.show();t[0]&&t.remove();var n=C(['<div class="larry-unselect '+l,r.checked?" "+l+"ed":"",(i?" larry-radio-disbaled "+$:"")+'">','<i class="larry-anim larry-icon '+f[r.checked?0:1]+'"></i>',"<div>"+function(){var e=r.title||"";if(typeof a.next().attr("lay-radio")==="string"){e=a.next().html();a.next().remove()}return e}()+"</div>","</div>"].join(""));a.after(n);s.call(this,n)})},input:function(){var e=a.find("input.larry-input[type='password']");e.each(function(e,r){var a=C(r).data("eye"),t=C(r).data("level");if(a){C(this).parent().append('<span class="larry-showpwd" id="showpwd_'+e+'"><i class="larry-icon larry-yincangmima"></i></span>');var i=false;C("#showpwd_"+e).on("click",function(){if(!i){C(this).children("i").addClass("larry-xianshimima").removeClass("larry-yincangmima");C(this).siblings('input[type="password"]').attr("type","text");i=true}else{C(this).children("i").addClass("larry-yincangmima").removeClass("larry-xianshimima");C(this).siblings('input[type="text"]').attr("type","password");i=false}})}if(t){C(this).parent().append('<div class="larry-strength larry-hide"><span class="larry-security">安全程度：</span><b><i>弱</i><i>中</i><i>强</i><i>很强</i></b></div>');C(this).on("keyup",function(){var e=C(this).val(),r=C(this).parent().find(".larry-strength");if(e.length>5){r.removeClass("larry-hide").show(300);var a=n.config.verify.pwdStrong(e);r.find("b i").removeClass("on");for(var t=0;t<a;t++){r.find("b i").eq(t).addClass("on")}}else{r.hide(500)}})}})},textsum:function(){var e=a.find("input.larry-input,input.larryms-input,textarea.larry-textarea,textarea.larryms-textarea");e.each(function(e,r){var a=C(r).attr("maxlength");if(a==undefined||a=="undefined"){return true}else{C(this).parent().append('<span class="larry-maxlength">0/'+a+"</span>");if(C(this).length>0){var t=C(this).height();if(t<60){C(this).css({paddingRight:"80px"}).siblings(".sumtips").css({"line-height":t+"px"})}else{C(this).siblings(".sumtips").css({height:"38px","line-height":"38px !important"})}}C(this).on("keyup",function(){var e=a-C(this).val().length;C(this).siblings(".larry-maxlength").html(e+"/"+a)})}})}};e?t[e]?t[e]():i.error("不支持的"+e+"表单渲染"):layui.each(t,function(e,r){r()});return n};a.prototype.vaildator=function(e){if(!e){y.alert("forms独立验证器需设置待验证区域id");return true}var r=this,a=C(e),p=r.config.verify,v=null,h="larry-form-danger",t={},i=a.find("*[lay-verify]");layui.each(i,function(f,o){var u=C(this),e=u.attr("lay-verify").split("|"),d=u.attr("lay-verType")||"tips",c=u.val();u.removeClass(h);layui.each(e,function(e,r){var a="",t="";if(r.indexOf(":")){t=r.split(":");a=t[1];r=t[0]}var i,n="",s=typeof p[r]==="function";if(p[r]){var l=false,i=s?n=p[r](c,a,o):!p[r][0].test(c);if(C(o).attr("lay-error")){l=C(o).attr("lay-error").split("|")}if(l[f]){n=l[f]||n}else{n=n||p[r][1]}if(i){if(d==="tips"){y.tips(n,function(){if(typeof u.attr("lay-ignore")!=="string"){if(o.tagName.toLowerCase()==="select"||/^checkbox|radio$/.test(o.type)){return u.next()}}return u}(),{tips:1})}else if(d==="alert"){y.alert(n,{title:"提示",shadeClose:true})}else if(d==="anim"){C(o).addClass("larry-verify-anim");if(C(o).siblings("span.larry-span-tips")){C(o).siblings("span.larry-span-tips").remove()}C(o).after('<span class="larry-span-tips">'+n+"</span>");C(o).blur(function(){C(this).siblings("span.larry-span-tips").remove();C(this).removeClass("larry-verify-anim");C(this).removeClass("larry-form-danger")})}else if(d==="below"){if(C(o).siblings("span.larry-span-tips")){C(o).siblings("span.larry-span-tips").remove()}C(o).after('<span class="larry-span-tips">'+n+"</span>");C(o).blur(function(){C(this).siblings("span.larry-span-tips").remove();C(this).removeClass("larry-form-danger")})}else{y.msg(n,{icon:5,shift:6})}if(!m.android&&!m.ios)o.focus();u.addClass(h);return v=true}else{}}});if(v)return v});if(v){return false}else{return true}};var t=function(){var e=C(this),c=b.config.verify,p=null,v="larry-form-danger",t={},r=e.parents(g),a=r.find("*[lay-verify]"),i=e.parents("form")[0],n=r.find("input,select,textarea"),s=e.attr("lay-filter");layui.each(a,function(e,f){var o=C(this),r=o.attr("lay-verify").split("|"),u=o.attr("lay-verType")||"tips",d=o.val();o.removeClass(v);layui.each(r,function(e,r){var a="",t="";if(r.indexOf(":")){t=r.split(":");a=t[1];r=t[0]}var i,n="",s=typeof c[r]==="function";if(c[r]){var l=false,i=s?n=c[r](d,a,f):!c[r][0].test(d);if(C(f).attr("lay-error")){l=C(f).attr("lay-error").split("|")}if(l[e]){n=l[e]||n}else{n=n||c[r][1]}if(i){if(u==="tips"){y.tips(n,function(){if(typeof o.attr("lay-ignore")!=="string"){if(f.tagName.toLowerCase()==="select"||/^checkbox|radio$/.test(f.type)){return o.next()}}return o}(),{tips:1})}else if(u==="alert"){y.alert(n,{title:"提示",shadeClose:true})}else if(u==="anim"){C(f).addClass("larry-verify-anim");if(C(f).siblings("span.larry-span-tips")){C(f).siblings("span.larry-span-tips").remove()}C(f).after('<span class="larry-span-tips">'+n+"</span>");C(f).blur(function(){C(this).siblings("span.larry-span-tips").remove();C(this).removeClass("larry-verify-anim");C(this).removeClass("larry-form-danger")})}else if(u==="below"){if(C(f).siblings("span.larry-span-tips")){C(f).siblings("span.larry-span-tips").remove()}C(f).after('<span class="larry-span-tips">'+n+"</span>");C(f).blur(function(){C(this).siblings("span.larry-span-tips").remove();C(this).removeClass("larry-form-danger")})}else{y.msg(n,{icon:5,shift:6})}if(!m.android&&!m.ios)f.focus();o.addClass(v);return p=true}}});if(p)return p});if(p)return false;var l={};layui.each(n,function(e,r){r.name=(r.name||"").replace(/^\s*|\s*&/,"");if(!r.name)return;if(/^.*\[\]$/.test(r.name)){var a=r.name.match(/^(.*)\[\]$/g)[0];l[a]=l[a]|0;r.name=r.name.replace(/^(.*)\[\]$/,"$1["+l[a]+++"]")}if(/^checkbox|radio$/.test(r.type)&&!r.checked)return;t[r.name]=r.value});return layui.event.call(this,k,"submit("+s+")",{elem:this,form:i,field:t})};var n=function(){var o=C(this),u=b.config.verify,d=null,c="larry-form-danger",e={},r=o.parents(g),a=o.parents("form")[0],t=r.find("input,select,textarea"),p=o.attr("lay-verType")||"tips",v=o.attr("blur")||1;o.removeClass(c);var i=o.attr("lay-valid"),n=false,s="";if(i.indexOf(":")){s=i.split(":");n=s[1];i=s[0]}if(!i)return false;if(i=="blur"){var h=0;o.blur(function(){var f=o.val();if(!n){if(!o.attr("lay-verify"))return false;var e=o.attr("lay-verify").split("|");layui.each(e,function(e,r){var a="",t=false;if(r.indexOf(":")){t=r.split(":");r=t[0];a=t[1]}var i,n="",s=typeof u[r]==="function";if(u[r]){var l=false,i=s?n=u[r](f,a,o):!u[r][0].test(f);if(o.attr("lay-error")){l=o.attr("lay-error").split("|")}if(l[e]){n=l[e]||n}else{n=n||u[r][1]}if(i){if(p==="tips"){y.tips(n,function(){if(typeof o.attr("lay-ignore")!=="string"){if(o.get(0).tagName.toLowerCase()==="select"||/^checkbox|radio$/.test(o.get(0).type)){return o.next()}}return o}(),{tips:1})}else if(p==="anim"){o.addClass("larry-verify-anim");if(o.siblings("span.larry-span-tips")){o.siblings("span.larry-span-tips").remove()}o.after('<span class="larry-span-tips">'+n+"</span>")}else if(p==="below"){if(o.siblings("span.larry-span-tips")){o.siblings("span.larry-span-tips").remove()}o.after('<span class="larry-span-tips">'+n+"</span>")}else if(p==="alert"){y.alert(n,{title:"提示",shadeClose:true})}else{y.msg(n,{icon:5,shift:6})}if(v!==-1){h++;if(h>v){return d=false}}if(!m.android&&!m.ios)o.focus();o.addClass(c);return d=true}else{if(p==="anim"||p==="below"){o.siblings("span.larry-span-tips").remove();o.removeClass("larry-verify-anim");o.removeClass("larry-form-danger")}}}});if(d)return false}else{var r=b.config.func;var a=r[n](f,o);if(a){if(!m.android&&!m.ios)o.focus();o.addClass(c);return d=true}if(d)return false}})}else if(i=="focus"){}else if(i=="keyup"){}};var b=new a,s=C(document),z=C(window);b.render();s.on("reset",g,function(){var e=C(this).attr("lay-filter");setTimeout(function(){b.render(null,e)},50)});s.on("submit",g,t).on("click","*[lay-submit]",t);s.on("click","*[lay-valid]",n);e(k,b)});